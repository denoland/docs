/* This file exists to provide CSS overrides to styles that exist on the pages
that are generated by deno_doc, the tool that powers the API reference documentation */

#content > main > section + div {
  @apply max-w-[75ch] !important;
}

.ddoc .markdown-summary {
  @apply text-foreground-secondary !important;
}

.ddoc .namespaceSection {
  display: block !important;
}

.ddoc .namespaceSection .namespaceItem {
  @apply min-h-0 mb-3 !important;
}

.ddoc .namespaceSection .namespaceItem .namespaceItemContent > div {
  @apply text-foreground-secondary !important;
}

@media (max-width: 768px) {
  .ddoc {
    @apply px-0 !important;
  }

  .ddoc > div:not(.categoryPanel) {
    @apply px-4 !important;
  }

  .ddoc .markdown-body .highlight {
    @apply -mx-4 !important;
  }

  [data-content="example"] .markdown-body .highlight {
    @apply m-0 !important;
  }

  .ddoc .markdown-body pre > code:first-child {
    @apply px-4 !important;
  }
}

/* Align content with the top of the TOC now that it has no header */

#topnav {
  @apply md:mt-1 !important;
}

.ddoc {
  @apply gap-8 !important;
}

/* Adjust spacing to account for removed header */

.ddoc .toc .documentNavigation {
  @apply md:mt-4 !important;
}

.ddoc .toc .documentNavigation > ul li {
  @apply ml-1 !important;
}

.ddoc .z-50 {
  z-index: 49 !important;
}

.ddoc .usageContent {
  @apply bg-primary/5 border-primary/25 max-w-[75ch] py-4 mt-6 relative
    !important;

  > div {
    color: inherit !important;
  }
}

/* Adjust spacing for ref pages that don't have a header above usage */
.ddoc .usageContent:first-of-type {
  @apply mt-1 !important;
}

.ddoc .usageContent > div.markdown-body > pre.highlight {
  @apply border-primary/25 !important;
}

.ddoc .usageContent > h3 {
  @apply text-xs -top-2.5 bg-background-primary border border-primary/25 px-2
    py-0.5 rounded absolute !important;
}

.dark .ddoc .usageContent pre {
  background: inherit;
  color: inherit;
}

.ddoc .usageContent > .markdown-body {
  @apply max-w-full !important;
}

.ddoc .context_button:hover {
  @apply bg-gray-000/25 !important;
}

.totop {
  @apply block fixed p-3 bg-background-secondary rounded-md border
    border-background-tertiary bottom-4 right-4 text-transparent;
  animation-name: showToTop;
  animation-duration: 1ms;
  animation-timeline: --showScrollTop;
}

.totop::after {
  @apply block w-4 h-4 border-2 border-primary border-l-0 border-t-0;
  content: "";
  transform: translate(0, 25%) rotate(225deg);
}

.highlight {
  max-width: 100%;
}

html {
  scroll-timeline: --showScrollTop y;
  scroll-timeline: --showScrollTop vertical;
}

@keyframes showToTop {
  0% {
    opacity: 0;
    transform: translateY(300%);
  }
  10% {
    opacity: 1;
    transform: translateY(0%);
  }
}
