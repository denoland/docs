---
title: "@std/testing"
description: "Tools for testing Deno code like snapshot testing, bdd testing, and time mocking"
jsr: jsr:@std/testing
pkg: testing
version: 1.0.16
generated: true
stability: stable
---
<!-- Autogenerated from JSR docs. Do not edit directly. -->

## Overview

<p>This package provides utilities for testing.</p>
<ul>
<li><a href="https://jsr.io/@std/testing/doc/bdd/~" rel="nofollow">BDD style testing</a></li>
<li><a href="https://jsr.io/@std/testing/doc/mock/~" rel="nofollow">Test doubles (mocking)</a></li>
<li><a href="https://jsr.io/@std/testing/doc/time/~" rel="nofollow">Faking time and timers</a></li>
<li><a href="https://jsr.io/@std/testing/doc/snapshot/~" rel="nofollow">Snapshot testing</a></li>
<li><a href="https://jsr.io/@std/testing/doc/types/~" rel="nofollow">Type assertions</a></li>
</ul>
<pre class="highlight"><code><span class="pl-k">import</span> { assertSpyCalls, spy } <span class="pl-k">from</span> <span class="pl-s">"@std/testing/mock"</span>;
<span class="pl-k">import</span> { <span class="pl-smi">FakeTime</span> } <span class="pl-k">from</span> <span class="pl-s">"@std/testing/time"</span>;

<span class="pl-k">function</span> <span class="pl-en">secondInterval</span>(cb: () <span class="pl-c1">=&gt;</span> <span class="pl-smi"><span class="pl-k">void</span></span>): <span class="pl-smi">number</span> {
  <span class="pl-k">return</span> <span class="pl-en">setInterval</span>(cb, <span class="pl-c1">1000</span>);
}

<span class="pl-smi">Deno</span>.<span class="pl-en">test</span>(<span class="pl-s">"secondInterval calls callback every second and stops after being cleared"</span>, () <span class="pl-c1">=&gt;</span> {
  using time <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-smi">FakeTime</span>();

  <span class="pl-k">const</span> cb <span class="pl-c1">=</span> <span class="pl-en">spy</span>();
  <span class="pl-k">const</span> intervalId <span class="pl-c1">=</span> <span class="pl-en">secondInterval</span>(cb);
  <span class="pl-en">assertSpyCalls</span>(cb, <span class="pl-c1">0</span>);
  time.<span class="pl-en">tick</span>(<span class="pl-c1">500</span>);
  <span class="pl-en">assertSpyCalls</span>(cb, <span class="pl-c1">0</span>);
  time.<span class="pl-en">tick</span>(<span class="pl-c1">500</span>);
  <span class="pl-en">assertSpyCalls</span>(cb, <span class="pl-c1">1</span>);
  time.<span class="pl-en">tick</span>(<span class="pl-c1">3500</span>);
  <span class="pl-en">assertSpyCalls</span>(cb, <span class="pl-c1">4</span>);

  <span class="pl-en">clearInterval</span>(intervalId);
  time.<span class="pl-en">tick</span>(<span class="pl-c1">1000</span>);
  <span class="pl-en">assertSpyCalls</span>(cb, <span class="pl-c1">4</span>);
});
</code></pre>

<!-- custom:start -->
<!-- Add persistent custom content below. This section is preserved across generations. -->
<!-- custom:end -->
