---
title: "@std/crypto"
description: "Extensions to the Web Crypto API"
jsr: jsr:@std/crypto
pkg: crypto
version: 1.0.5
generated: true
stability: stable
---
<!-- Autogenerated from JSR docs. Do not edit directly. -->

## Overview

<p>Extensions to the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API" rel="nofollow">Web Crypto</a>
supporting additional encryption APIs, but also delegating to the built-in
APIs when possible.</p>

```js
import { crypto } from "@std/crypto/crypto";

const message = "Hello, Deno!";
const encoder = new TextEncoder();
const data = encoder.encode(message);

await crypto.subtle.digest("BLAKE3", data);
```
### Add to your project

```sh
deno add jsr:@std/crypto
```

<a href="https://jsr.io/@std/crypto/docs" class="docs-cta jsr-cta">See all symbols in @std/crypto on
<svg class="inline ml-1" viewBox="0 0 13 7" aria-hidden="true" height="20"><path d="M0,2h2v-2h7v1h4v4h-2v2h-7v-1h-4" fill="#083344"></path><g fill="#f7df1e"><path d="M1,3h1v1h1v-3h1v4h-3"></path><path d="M5,1h3v1h-2v1h2v3h-3v-1h2v-1h-2"></path><path d="M9,2h3v2h-1v-1h-1v3h-1"></path></g></svg></a>

<!-- custom:start -->
## What is web crypto?

The Web Crypto API is a standard set of low-level cryptographic primitives
available in web browsers and other environments like Deno. It provides secure
methods for hashing, encryption, decryption, signing, and verifying data, useful
when you need to protect sensitive information.

## Why use @std/crypto?

This package provides Web Crypto–compatible helpers and algorithms (like
[BLAKE3](https://github.com/BLAKE3-team/BLAKE3/)) with a familiar API. Use it
in:

- API clients and SDKs: sign/verify payloads, compute request checksums, or
  derive cache validators (ETag‑like) with BLAKE3.
- CLI tools and build systems: fingerprint files and directories for caching,
  artifact integrity, or change detection.
- Edge/serverless apps: verify webhooks and JWT parts, hash bodies before
  storage, or compare secrets in constant time.
- Data pipelines: de‑duplicate blobs via fast hashing; generate stable IDs from
  content.

## Examples

### Hashing

```ts
import { crypto } from "@std/crypto/crypto";

const data = new TextEncoder().encode("hello");
const hash = await crypto.subtle.digest("BLAKE3", data);
console.log(new Uint8Array(hash));
```

### Hash to hex

```ts
import { crypto } from "@std/crypto/crypto";

const toHex = (bytes: Uint8Array) =>
  Array.from(bytes).map((b) => b.toString(16).padStart(2, "0")).join("");

const data = new TextEncoder().encode("hello");
const buf = await crypto.subtle.digest("BLAKE3", data);
console.log(toHex(new Uint8Array(buf))); // e.g. "ea..."
```

### Hash a file (BLAKE3)

```ts
import { crypto } from "@std/crypto/crypto";

const file = await Deno.readFile("./README.md");
const buf = await crypto.subtle.digest("BLAKE3", file);
console.log(new Uint8Array(buf));
```

### Constant‑time compare

```ts
import { crypto } from "@std/crypto/crypto";
import { timingSafeEqual } from "@std/crypto/timing-safe-equal";

const enc = new TextEncoder();
const a = new Uint8Array(
  await crypto.subtle.digest("BLAKE3", enc.encode("abc")),
);
const b = new Uint8Array(
  await crypto.subtle.digest("BLAKE3", enc.encode("abd")),
);

console.log(timingSafeEqual(a, b)); // false
```

### Synchronous hashing (scripts)

```ts
import { crypto } from "@std/crypto/crypto";

const data = new TextEncoder().encode("fast");
const buf = crypto.subtle.digestSync("BLAKE3", data);
console.log(new Uint8Array(buf));
```

### Random bytes

```ts
import { crypto } from "@std/crypto/crypto";

const iv = new Uint8Array(12);
crypto.getRandomValues(iv);
console.log(iv);
```

### AES‑GCM encrypt/decrypt (Web Crypto)

```ts
import { crypto } from "@std/crypto/crypto";

const key = await crypto.subtle.generateKey(
  { name: "AES-GCM", length: 256 },
  true,
  ["encrypt", "decrypt"],
);

const iv = crypto.getRandomValues(new Uint8Array(12));
const data = new TextEncoder().encode("secret message");

const ciphertext = await crypto.subtle.encrypt(
  { name: "AES-GCM", iv },
  key,
  data,
);
const plaintext = await crypto.subtle.decrypt(
  { name: "AES-GCM", iv },
  key,
  ciphertext,
);

console.log(new TextDecoder().decode(new Uint8Array(plaintext))); // "secret message"
```

## Tips

- Prefer Web Crypto primitives; avoid rolling your own crypto.
- Encode inputs with `TextEncoder` and compare results as bytes or hex.
<!-- custom:end -->
