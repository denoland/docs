---
title: "@std/tar"
description: "Streaming utilities for working with tar archives."
jsr: jsr:@std/tar
pkg: tar
version: 0.1.9
generated: true
stability: unstable
---

<!-- Autogenerated from JSR docs. Do not edit directly. -->

:::info Unstable

This @std package is experimental and its API may change without a major version
bump.

:::

## Overview

<p>Streaming utilities for working with tar archives.</p>
<p>Files are not compressed, only collected into the archive.</p>

```js
import { UntarStream } from "@std/tar/untar-stream";
import { dirname, normalize } from "@std/path";

for await (
  const entry of (await Deno.open("./out.tar.gz"))
    .readable
    .pipeThrough(new DecompressionStream("gzip"))
    .pipeThrough(new UntarStream())
) {
  const path = normalize(entry.path);
  await Deno.mkdir(dirname(path), { recursive: true });
  await entry.readable?.pipeTo((await Deno.create(path)).writable);
}
```

### Add to your project

```sh
deno add jsr:@std/tar
```

<a href="https://jsr.io/@std/tar/docs" class="docs-cta jsr-cta">See all symbols
in @std/tar on
<svg class="inline ml-1" viewBox="0 0 13 7" aria-hidden="true" height="20"><path d="M0,2h2v-2h7v1h4v4h-2v2h-7v-1h-4" fill="#083344"></path><g fill="#f7df1e"><path d="M1,3h1v1h1v-3h1v4h-3"></path><path d="M5,1h3v1h-2v1h2v3h-3v-1h2v-1h-2"></path><path d="M9,2h3v2h-1v-1h-1v3h-1"></path></g></svg></a>

<!-- custom:start -->

## What is tar?

Tar (tape archive) is a widely-used file format for collecting multiple files
into a single archive file, often for easier distribution or backup. It
preserves file metadata like permissions and timestamps, making it suitable for
system backups and software distribution.

## Why use @std/tar?

Use this package to create or extract tar archives in a streaming fashion, which
is efficient for large datasets and avoids high memory usage.

- This module is streaming-first: use Web Streams to read/write entries without
  buffering whole archives.
- Security: sanitize entry paths and guard against path traversal (".."
  segments) before writing to disk.
- Tar is an archive format, not compression. Layer
  `CompressionStream`/`DecompressionStream` for gzip.
- Preserve permissions/mtime if present in headers when extracting to maintain
  fidelity.

## Examples

```ts
import { UntarStream } from "@std/tar/untar-stream";
import { dirname, isAbsolute, normalize } from "@std/path";

const outDir = "/safe/root";

for await (const entry of file.readable.pipeThrough(new UntarStream())) {
  const normalized = normalize(entry.path);
  // Prevent writing outside outDir
  if (normalized.includes("..") || isAbsolute(normalized)) continue;
  const dest = `${outDir}/${normalized}`;
  await Deno.mkdir(dirname(dest), { recursive: true });
  if (entry.readable) {
    await entry.readable.pipeTo((await Deno.create(dest)).writable);
  }
}
```

<!-- custom:end -->
