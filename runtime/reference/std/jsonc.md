---
title: "@std/jsonc"
description: "Parsing and serializing of JSONC files"
jsr: jsr:@std/jsonc
pkg: jsonc
version: 1.0.2
generated: true
stability: stable
---
<!-- Autogenerated from JSR docs. Do not edit directly. -->

## Overview

<p>Provides tools for working with
<a href="https://code.visualstudio.com/docs/languages/json#_json-with-comments" rel="nofollow">JSONC</a>
(JSON with comments).</p>
<p>Currently, this module only provides a means of parsing JSONC. JSONC
serialization is not yet supported.</p>

```js
import { parse } from "@std/jsonc";
import { assertEquals } from "@std/assert";

assertEquals(parse('{"foo": "bar", } // comment'), { foo: "bar" });
assertEquals(parse('{"foo": "bar", } /* comment *\/'), { foo: "bar" });
```

### Add to your project

```sh
deno add jsr:@std/jsonc
```

<a href="https://jsr.io/@std/jsonc/doc" class="docs-cta jsr-cta">See all symbols in @std/jsonc on
<svg class="inline ml-1" viewBox="0 0 13 7" aria-hidden="true" height="20"><path d="M0,2h2v-2h7v1h4v4h-2v2h-7v-1h-4" fill="#083344"></path><g fill="#f7df1e"><path d="M1,3h1v1h1v-3h1v4h-3"></path><path d="M5,1h3v1h-2v1h2v3h-3v-1h2v-1h-2"></path><path d="M9,2h3v2h-1v-1h-1v3h-1"></path></g></svg></a>

<!-- custom:start -->
## What is JSONC?

JSONC (JSON with Comments) is a variant of JSON that allows comments and
trailing commas. It is commonly used for configuration files where human
readability and maintainability are important, such as in Visual Studio Code
settings files.

### Why use @std/jsonc?

This package allows you to easily parse JSONC files, which are not supported by
the standard JSON parser. It is useful for reading configuration files that may
contain comments or trailing commas, making them more user-friendly.

## Examples

Parse with comments and trailing commas

```ts
import { parse } from "@std/jsonc";

const text = `{
  // Service config
  "host": "localhost",
  "port": 8000, // trailing comma allowed
}`;

const cfg = parse(text);
// => { host: "localhost", port: 8000 }
```

Merge user config over defaults

```ts
import { parse } from "@std/jsonc";

const defaults = { host: "127.0.0.1", port: 3000 } as const;
const userText = `{
  // Only override port
  "port": 8080,
}`;

const user = parse(userText) as Partial<typeof defaults>;
const finalCfg = { ...defaults, ...user };
// => { host: "127.0.0.1", port: 8080 }
```

Load a .jsonc file in Deno

```ts
import { parse } from "@std/jsonc";

const raw = await Deno.readTextFile("config.jsonc");
let cfg: unknown;
try {
  cfg = parse(raw);
} catch (err) {
  // Surface a clean error; JSONC parser points near the syntax location
  throw new Error(`Failed to parse config.jsonc: ${err.message}`);
}
```

Strip comments to plain JSON (if you must emit JSON)

```ts
// There is no JSONC stringify yet. To emit JSON, remove comments, then JSON.stringify
function stripJsonc(input: string): string {
  // Remove /* */ and // comments (naive). Ensure you don't remove content inside strings in critical cases.
  return input
    .replace(/\/\*[\s\S]*?\*\//g, "")
    .replace(/(^|[^:])\/\/.*$/gm, "$1");
}

const clean = stripJsonc(raw);
const obj = JSON.parse(clean);
```

### Tips

- Only parsing is supported; for writing, strip comments or use plain JSON.
- Be strict when reading untrusted inputâ€”JSONC is for config, not wire
  protocols.
- When stripping comments, be careful with naive regex in the presence of string
  literals. Prefer keeping JSONC at rest and converting only when necessary.
<!-- custom:end -->
